appId: com.bitqba.linkzonemanager
productName: Link Zone Manager
directories:
  output: dist
  buildResources: resources
files:
  - from: .
    filter:
      - package.json
      - app
extraResources:
  - from: "resources/"
    to: "."
    filter:
      - "*.png"
      - "*.ico"
      # Excluir icns para evitar conflicto con el ícono principal
      # - "*.icns"

# Configuración optimizada para Windows y macOS
compression: normal  # Reducir tiempo de compresión

# Configuración para Windows
win:
  icon: "resources/icon.ico"
  target:
    - target: "nsis"
      arch: ["x64"]  # Solo x64, eliminar ia32 para evitar errores
    - target: "portable"
      arch: ["x64"]
  
nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  createStartMenuShortcut: true
  deleteAppDataOnUninstall: false

# Configuración para macOS - Fixed for unsigned distribution
mac:
  icon: "resources/icon.icns"
  category: "public.app-category.utilities"
  target:
    - target: "zip"  # Only ZIP, DMG has Python issues
      arch: ["universal"]  # Support both Intel and Apple Silicon
  hardenedRuntime: false
  gatekeeperAssess: false
  identity: null  # Disable code signing (no developer certificate)
  entitlements: null
  entitlementsInherit: null
  minimumSystemVersion: "11.0"

# Linux configuration - AppImage for universal compatibility
linux:
  icon: "resources/icon.png"
  category: "Utility"
  target:
    - target: "AppImage"
      arch: ["x64"]
  desktop:
    Name: "Link Zone Manager"
    Comment: "Manage your ETECSA LinkZone device"
    Categories: "Utility;Network;"
    StartupWMClass: "link-zone-manager"

# Configuración de publicación
publish:
  provider: github
  releaseType: release
